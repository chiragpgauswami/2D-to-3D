(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const e of l)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function f(l){const e={};return l.integrity&&(e.integrity=l.integrity),l.referrerPolicy&&(e.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?e.credentials="include":l.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(l){if(l.ep)return;l.ep=!0;const e=f(l);fetch(l.href,e)}})();let v=document.getElementById("svgCanvas"),M=[],L=[],r=[],E=document.createElementNS("http://www.w3.org/2000/svg","polygon");E.setAttribute("stroke","black");E.setAttribute("fill","url(#myGradient)");v.appendChild(E);function V(){let i=r.map(t=>`${t.x},${t.y}`).join(" ");E.setAttribute("points",i)}function k(i){let t={x:i.clientX-v.getBoundingClientRect().left,y:i.clientY-v.getBoundingClientRect().top};if(r.length===0)r.push(t);else if(r.push(t),r.length>1){let c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("stroke","black"),v.appendChild(c),M.push(c),q()}let f=T(t);v.appendChild(f),L.push(f),W()&&r.length!==1&&(V(),J())}function T(i){let t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("cx",i.x),t.setAttribute("cy",i.y),t.setAttribute("r",5),t.setAttribute("fill","red"),t.setAttribute("stroke","black"),t.addEventListener("mousedown",Q),t}function W(){let i=r[0],t=r[r.length-1],f=parseFloat(L[0].getAttribute("r"));return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))<=f}function J(){v.removeEventListener("click",k)}function q(){M.forEach((i,t)=>{t<r.length-1&&(i.setAttribute("x1",r[t].x),i.setAttribute("y1",r[t].y),i.setAttribute("x2",r[t+1].x),i.setAttribute("y2",r[t+1].y))})}function Q(i){let t=i.target,f=L.indexOf(t);if(f!==-1){let s=function(b){let A=b.clientX-e,P=b.clientY-o;r[f].x+=A,r[f].y+=P,t.setAttribute("cx",r[f].x),t.setAttribute("cy",r[f].y),q(),V(),e=b.clientX,o=b.clientY},N=function(){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",N)};var c=s,l=N;let e=i.clientX,o=i.clientY;window.addEventListener("mousemove",s),window.addEventListener("mouseup",N)}}v.addEventListener("click",k);document.getElementById("convertBtn").addEventListener("click",function(){if(document.getElementById("loader-overlay").classList.add("show"),v.querySelector("polygon").getAttribute("points").split(" ").length){let I=function(a){const d=a.getAttribute("width"),n=a.getAttribute("height"),u=a.querySelector("polygon").getAttribute("points").split(" "),g=Array.from({length:parseInt(n)},()=>Array(parseInt(d)).fill(null));for(let y=0;y<parseInt(n);y++)for(let m=0;m<parseInt(d);m++)X(m,y,u)?g[y][m]=100:g[y][m]=NaN;return g},X=function(a,d,n){let p=!1,u=n.length-1;for(let g=0;g<n.length;g++){const y=parseFloat(n[g].split(",")[0]),m=parseFloat(n[g].split(",")[1]),K=parseFloat(n[u].split(",")[0]),S=parseFloat(n[u].split(",")[1]);m>d!=S>d&&a<(K-y)*(d-m)/(S-m)+y&&(p=!p),u=g}return p},Y=function(a){let d=1/0,n=-1/0;for(let p=0;p<a.length;p++){const u=a[p];isNaN(u)||(u<d&&(d=u),u>n&&(n=u))}return{min:d,max:n}},z=function(a,d,n){for(var p=[],u=0;u<a;u++){for(var g=[],y=0;y<d;y++)g.push(n);p.push(g)}return p};var A=I,P=X,U=Y,Z=z;const h=I(v);h.reverse();var f=h.flat().filter(a=>!isNaN(a));console.log("Flat Z Data:",f);const{min_z:_,max_z:C}=Y(f);console.log("Minimum value:",_),console.log("Maximum value:",C),console.log("z_data",h);var c=h.length,l=h[0].length;console.log("numRows",c),console.log("numCols",l);for(var e=z(c,l,0),o=0;o<c;o++)for(var s=0;s<l;s++)(o===0||o===c-1||s===0||s===l-1||isNaN(h[o][s]))&&(e[o][s]=h[o][s]);for(var o=1;o<c-1;o++)for(var s=1;s<l-1;s++)(isNaN(e[o-1][s])||isNaN(e[o+1][s])||isNaN(e[o][s-1])||isNaN(e[o][s+1])||isNaN(e[o-1][s-1])||isNaN(e[o-1][s+1])||isNaN(e[o+1][s-1])||isNaN(e[o+1][s+1]))&&(e[o][s]=h[o][s]);console.log("newArray",e);const B=0,D=10,F=0,$=10,x=[],w=[],G=(D-B)/(l-1),H=($-F)/(c-1);for(let a=0;a<c;a++){const d=[],n=[];for(let p=0;p<l;p++){const u=B+p*G,g=F+a*H;d.push(u),n.push(g)}x.push(d),w.push(n)}console.log("xValues",x),console.log("yValues",w);const O=[[0,"#78534a"],[.5,"#b09371"],[1,"#cac28a"]];var N=[{type:"surface",z:h,colorscale:O,showscale:!1,x,y:w},{type:"surface",z:e,colorscale:O,showscale:!1,x,y:w}],b={title:"",scene:{xaxis:{visible:!1},yaxis:{visible:!1},zaxis:{visible:!1}}};Plotly.newPlot("plotlyDiv",N,b),setTimeout(function(){document.getElementById("loader-overlay").classList.remove("show")},2e3)}});
